# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Chinese-language CRM (Customer Relationship Management) system built with React 18 + TypeScript + Vite. Uses mock data layer (no real backend). Generated by space.coze.cn platform.

## Commands

```bash
# Development server (port 3000)
pnpm dev

# Production build (outputs to dist/static)
pnpm build
```

Package manager: **pnpm**. No test framework or linter is configured.

## Architecture

### Stack
- React 18.3 + TypeScript + Vite 6
- TailwindCSS (class-based dark mode) + Framer Motion
- React Router DOM 7 (nested routes with layout)
- Recharts for data visualization
- Sonner for toast notifications
- Zod for schema validation

### Routing
Routes defined in `src/App.tsx`. All pages are wrapped in `MainLayout` (sidebar + header) via `<Outlet />`. Master data routes are nested under `/master-data/*`.

### State Management
No external state library. Three React Contexts:
- `AuthContext` — authentication state (currently hardcoded `isAuthenticated: true`)
- `ThemeContext` — color theme (blue/purple/green) + light/dark mode, persisted to localStorage
- `LanguageContext` — i18n with `t(key)` function supporting zh/en, persisted to localStorage

### Data Layer
`src/services/api.ts` provides async CRUD operations per entity with 500ms simulated delay. All data lives in `src/services/mockData.ts` as in-memory arrays with TypeScript interfaces for 11 entities (Employee, Customer, Supplier, Invoice, Receipt, Feedback, Company, Project, User, UserRole, AccessRight).

### Page Pattern
Each page in `src/pages/` follows the same CRUD pattern: table list with search/filter, modal-based add/edit forms using controlled inputs, delete with toast confirmation. No separate form pages.

### Path Alias
`@/*` maps to `src/*` (configured in tsconfig.json + vite-tsconfig-paths plugin).

### Styling
TailwindCSS utility classes with `cn()` helper (`src/lib/utils.ts` — combines clsx + tailwind-merge). Theme colors use CSS custom properties defined in `src/index.css` under `.theme-blue`, `.theme-purple`, `.theme-green` classes.

## Important Constraints

**Do not edit config files.** `vite.config.ts`, `tsconfig.json`, `tailwind.config.js`, and `postcss.config.js` are all marked with "DON'T EDIT THIS FILE" warnings — they are managed by the coze.cn platform.

## Conventions

- Functional components with hooks only
- PascalCase for component files, camelCase for utilities
- Chinese sample data in mock layer
- Font Awesome icons loaded via CDN (index.html)
- `cn()` for all conditional class composition
